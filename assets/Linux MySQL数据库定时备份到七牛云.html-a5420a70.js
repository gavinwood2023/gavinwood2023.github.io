const e=JSON.parse('{"key":"v-ab6b09f2","path":"/blog/Linux/Linux%20MySQL%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AE%9A%E6%97%B6%E5%A4%87%E4%BB%BD%E5%88%B0%E4%B8%83%E7%89%9B%E4%BA%91.html","title":"MySQL备份到七牛云","lang":"zh-CN","frontmatter":{"title":"MySQL备份到七牛云","icon":"pen-to-square","category":["linux"],"tag":["linux"],"article":true,"timeline":true,"dir":{"index":true,"order":2},"description":"需求 每天凌晨3点，备份数据库到七牛云 实现 一、编写数据备份脚本，上传到七牛云 /usr/local/bin/backup_mysql.sh，位置可随意，并设置执行权限chmod +x backup_mysql.sh #!/bin/bash # MySQL 配置 DB_USER=\\"数据库用户名\\" DB_PASSWORD=\\"数据库密码\\" DB_NAME=\\"数据库名字\\" BACKUP_DIR=\\"本机备份地址\\" DATE=$(date +%F) BACKUP_FILE=\\"$BACKUP_DIR/${DB_NAME}_$DATE.sql.gz\\" # 七牛云配置 QINIU_BUCKET_NAME=\\"your_bucket_name\\" # 创建备份目录（如果不存在） mkdir -p $BACKUP_DIR # 备份 MySQL 数据库 mysqldump -u $DB_USER -p$DB_PASSWORD $DB_NAME | gzip &gt; $BACKUP_FILE # 上传到七牛云 # 注意：你需要安装并配置七牛云的命令行工具 `qshell` # --overwrite 表示覆盖上传 # 使用 qshell 工具 qshell rput $QINIU_BUCKET_NAME \\"七牛云桶内文件夹路径/${DB_NAME}_$DATE.sql.gz\\" $BACKUP_FILE --overwrite # 处理错误和清理本地文件（可选） if [ $? -eq 0 ]; then echo \\"Backup and upload successful\\" rm -f $BACKUP_FILE else echo \\"Backup or upload failed\\" fi","head":[["meta",{"property":"og:url","content":"https://mister-hope.github.io/blog/Linux/Linux%20MySQL%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AE%9A%E6%97%B6%E5%A4%87%E4%BB%BD%E5%88%B0%E4%B8%83%E7%89%9B%E4%BA%91.html"}],["meta",{"property":"og:site_name","content":"乐见分享"}],["meta",{"property":"og:title","content":"MySQL备份到七牛云"}],["meta",{"property":"og:description","content":"需求 每天凌晨3点，备份数据库到七牛云 实现 一、编写数据备份脚本，上传到七牛云 /usr/local/bin/backup_mysql.sh，位置可随意，并设置执行权限chmod +x backup_mysql.sh #!/bin/bash # MySQL 配置 DB_USER=\\"数据库用户名\\" DB_PASSWORD=\\"数据库密码\\" DB_NAME=\\"数据库名字\\" BACKUP_DIR=\\"本机备份地址\\" DATE=$(date +%F) BACKUP_FILE=\\"$BACKUP_DIR/${DB_NAME}_$DATE.sql.gz\\" # 七牛云配置 QINIU_BUCKET_NAME=\\"your_bucket_name\\" # 创建备份目录（如果不存在） mkdir -p $BACKUP_DIR # 备份 MySQL 数据库 mysqldump -u $DB_USER -p$DB_PASSWORD $DB_NAME | gzip &gt; $BACKUP_FILE # 上传到七牛云 # 注意：你需要安装并配置七牛云的命令行工具 `qshell` # --overwrite 表示覆盖上传 # 使用 qshell 工具 qshell rput $QINIU_BUCKET_NAME \\"七牛云桶内文件夹路径/${DB_NAME}_$DATE.sql.gz\\" $BACKUP_FILE --overwrite # 处理错误和清理本地文件（可选） if [ $? -eq 0 ]; then echo \\"Backup and upload successful\\" rm -f $BACKUP_FILE else echo \\"Backup or upload failed\\" fi"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-08-17T14:11:38.000Z"}],["meta",{"property":"article:author","content":"GavinWood"}],["meta",{"property":"article:tag","content":"linux"}],["meta",{"property":"article:modified_time","content":"2024-08-17T14:11:38.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"MySQL备份到七牛云\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-08-17T14:11:38.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"GavinWood\\",\\"url\\":\\"https://mister-hope.com\\"}]}"]]},"headers":[{"level":3,"title":"需求","slug":"需求","link":"#需求","children":[]},{"level":3,"title":"实现","slug":"实现","link":"#实现","children":[]}],"git":{"createdTime":1723903898000,"updatedTime":1723903898000,"contributors":[{"name":"nick","email":"1175924232@qq.com","commits":1}]},"readingTime":{"minutes":1.94,"words":582},"filePathRelative":"blog/Linux/Linux MySQL数据库定时备份到七牛云.md","localizedDate":"2024年8月17日","excerpt":"<h3> 需求</h3>\\n<p>每天凌晨3点，备份数据库到七牛云</p>\\n<h3> 实现</h3>\\n<h4> 一、编写数据备份脚本，上传到七牛云 <code>/usr/local/bin/backup_mysql.sh</code>，位置可随意，并设置执行权限<code>chmod +x backup_mysql.sh</code></h4>\\n<div class=\\"language-text line-numbers-mode\\" data-ext=\\"text\\"><pre class=\\"language-text\\"><code>#!/bin/bash\\n\\n# MySQL 配置\\nDB_USER=\\"数据库用户名\\"\\nDB_PASSWORD=\\"数据库密码\\"\\nDB_NAME=\\"数据库名字\\"\\nBACKUP_DIR=\\"本机备份地址\\"\\nDATE=$(date +%F)\\nBACKUP_FILE=\\"$BACKUP_DIR/${DB_NAME}_$DATE.sql.gz\\"\\n\\n\\n# 七牛云配置\\nQINIU_BUCKET_NAME=\\"your_bucket_name\\"\\n\\n\\n# 创建备份目录（如果不存在）\\nmkdir -p $BACKUP_DIR\\n\\n# 备份 MySQL 数据库\\nmysqldump -u $DB_USER -p$DB_PASSWORD $DB_NAME | gzip &gt; $BACKUP_FILE\\n\\n\\n# 上传到七牛云\\n# 注意：你需要安装并配置七牛云的命令行工具 `qshell` \\n# --overwrite 表示覆盖上传\\n\\n# 使用 qshell 工具\\nqshell rput $QINIU_BUCKET_NAME \\"七牛云桶内文件夹路径/${DB_NAME}_$DATE.sql.gz\\" $BACKUP_FILE --overwrite\\n\\n# 处理错误和清理本地文件（可选）\\nif [ $? -eq 0 ]; then\\n  echo \\"Backup and upload successful\\"\\n  rm -f $BACKUP_FILE\\nelse\\n  echo \\"Backup or upload failed\\"\\nfi\\n</code></pre><div class=\\"line-numbers\\" aria-hidden=\\"true\\"><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div></div></div>","autoDesc":true}');export{e as data};
