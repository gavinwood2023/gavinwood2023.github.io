const n=JSON.parse(`{"key":"v-367e9552","path":"/blog/MiniGame/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E6%B8%B8%E6%88%8F%E9%80%9A%E8%BF%87code%E8%8E%B7%E5%8F%96openid.html","title":"微信小游戏通过code获取openid","lang":"zh-CN","frontmatter":{"title":"微信小游戏通过code获取openid","icon":"pen-to-square","category":["minigame"],"tag":["minigame"],"article":true,"timeline":true,"dir":{"index":true,"order":1},"description":"服务器PHP代码 &lt;?php // 小程序的 AppID 和 AppSecret $appId = '******'; $appSecret = '******'; // 通过 GET 方法获取用户授权登录后的 code $code = $_GET['code']; // 构建请求的 URL $url = \\"https://api.weixin.qq.com/sns/jscode2session?appid={$appId}&amp;secret={$appSecret}&amp;js_code={$code}&amp;grant_type=authorization_code\\"; // 初始化 cURL $ch = curl_init($url); // 设置 cURL 选项 curl_setopt($ch, CURLOPT_RETURNTRANSFER, true); curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, false); // 如果你没有配置 SSL 证书，可以暂时关闭 SSL 验证 // 执行请求并获取返回数据 $response = curl_exec($ch); // 关闭 cURL 资源 curl_close($ch); echo $response; ?&gt;","head":[["meta",{"property":"og:url","content":"https://mister-hope.github.io/blog/MiniGame/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E6%B8%B8%E6%88%8F%E9%80%9A%E8%BF%87code%E8%8E%B7%E5%8F%96openid.html"}],["meta",{"property":"og:site_name","content":"乐见分享"}],["meta",{"property":"og:title","content":"微信小游戏通过code获取openid"}],["meta",{"property":"og:description","content":"服务器PHP代码 &lt;?php // 小程序的 AppID 和 AppSecret $appId = '******'; $appSecret = '******'; // 通过 GET 方法获取用户授权登录后的 code $code = $_GET['code']; // 构建请求的 URL $url = \\"https://api.weixin.qq.com/sns/jscode2session?appid={$appId}&amp;secret={$appSecret}&amp;js_code={$code}&amp;grant_type=authorization_code\\"; // 初始化 cURL $ch = curl_init($url); // 设置 cURL 选项 curl_setopt($ch, CURLOPT_RETURNTRANSFER, true); curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, false); // 如果你没有配置 SSL 证书，可以暂时关闭 SSL 验证 // 执行请求并获取返回数据 $response = curl_exec($ch); // 关闭 cURL 资源 curl_close($ch); echo $response; ?&gt;"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"article:author","content":"GavinWood"}],["meta",{"property":"article:tag","content":"minigame"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"微信小游戏通过code获取openid\\",\\"image\\":[\\"\\"],\\"dateModified\\":null,\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"GavinWood\\",\\"url\\":\\"https://mister-hope.com\\"}]}"]]},"headers":[],"git":{"createdTime":null,"updatedTime":null,"contributors":[]},"readingTime":{"minutes":0.54,"words":163},"filePathRelative":"blog/MiniGame/微信小游戏通过code获取openid.md","excerpt":"<p>服务器PHP代码</p>\\n<div class=\\"language-php line-numbers-mode\\" data-ext=\\"php\\"><pre class=\\"language-php\\"><code><span class=\\"token php language-php\\"><span class=\\"token delimiter important\\">&lt;?php</span>\\n<span class=\\"token comment\\">// 小程序的 AppID 和 AppSecret</span>\\n<span class=\\"token variable\\">$appId</span> <span class=\\"token operator\\">=</span> <span class=\\"token string single-quoted-string\\">'******'</span><span class=\\"token punctuation\\">;</span>\\n<span class=\\"token variable\\">$appSecret</span> <span class=\\"token operator\\">=</span> <span class=\\"token string single-quoted-string\\">'******'</span><span class=\\"token punctuation\\">;</span>\\n<span class=\\"token comment\\">// 通过 GET 方法获取用户授权登录后的 code</span>\\n<span class=\\"token variable\\">$code</span> <span class=\\"token operator\\">=</span> <span class=\\"token variable\\">$_GET</span><span class=\\"token punctuation\\">[</span><span class=\\"token string single-quoted-string\\">'code'</span><span class=\\"token punctuation\\">]</span><span class=\\"token punctuation\\">;</span>\\n\\n<span class=\\"token comment\\">// 构建请求的 URL</span>\\n<span class=\\"token variable\\">$url</span> <span class=\\"token operator\\">=</span> <span class=\\"token string double-quoted-string\\">\\"https://api.weixin.qq.com/sns/jscode2session?appid=<span class=\\"token interpolation\\"><span class=\\"token punctuation\\">{</span><span class=\\"token variable\\">$appId</span><span class=\\"token punctuation\\">}</span></span>&amp;secret=<span class=\\"token interpolation\\"><span class=\\"token punctuation\\">{</span><span class=\\"token variable\\">$appSecret</span><span class=\\"token punctuation\\">}</span></span>&amp;js_code=<span class=\\"token interpolation\\"><span class=\\"token punctuation\\">{</span><span class=\\"token variable\\">$code</span><span class=\\"token punctuation\\">}</span></span>&amp;grant_type=authorization_code\\"</span><span class=\\"token punctuation\\">;</span>\\n\\n<span class=\\"token comment\\">// 初始化 cURL</span>\\n<span class=\\"token variable\\">$ch</span> <span class=\\"token operator\\">=</span> <span class=\\"token function\\">curl_init</span><span class=\\"token punctuation\\">(</span><span class=\\"token variable\\">$url</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n\\n<span class=\\"token comment\\">// 设置 cURL 选项</span>\\n<span class=\\"token function\\">curl_setopt</span><span class=\\"token punctuation\\">(</span><span class=\\"token variable\\">$ch</span><span class=\\"token punctuation\\">,</span> <span class=\\"token constant\\">CURLOPT_RETURNTRANSFER</span><span class=\\"token punctuation\\">,</span> <span class=\\"token constant boolean\\">true</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n<span class=\\"token function\\">curl_setopt</span><span class=\\"token punctuation\\">(</span><span class=\\"token variable\\">$ch</span><span class=\\"token punctuation\\">,</span> <span class=\\"token constant\\">CURLOPT_SSL_VERIFYPEER</span><span class=\\"token punctuation\\">,</span> <span class=\\"token constant boolean\\">false</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span> <span class=\\"token comment\\">// 如果你没有配置 SSL 证书，可以暂时关闭 SSL 验证</span>\\n\\n<span class=\\"token comment\\">// 执行请求并获取返回数据</span>\\n<span class=\\"token variable\\">$response</span> <span class=\\"token operator\\">=</span> <span class=\\"token function\\">curl_exec</span><span class=\\"token punctuation\\">(</span><span class=\\"token variable\\">$ch</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n\\n<span class=\\"token comment\\">// 关闭 cURL 资源</span>\\n<span class=\\"token function\\">curl_close</span><span class=\\"token punctuation\\">(</span><span class=\\"token variable\\">$ch</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n\\n<span class=\\"token keyword\\">echo</span> <span class=\\"token variable\\">$response</span><span class=\\"token punctuation\\">;</span>\\n<span class=\\"token delimiter important\\">?&gt;</span></span>\\n</code></pre><div class=\\"line-numbers\\" aria-hidden=\\"true\\"><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div></div></div>","autoDesc":true}`);export{n as data};
